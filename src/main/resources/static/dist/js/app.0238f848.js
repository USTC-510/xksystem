(function(){"use strict";var e={3760:function(e,t,n){var o=n(5130),r=n(6768);const s={id:"app"};function a(e,t){const n=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(n)])}var i=n(1241);const u={},l=(0,i.A)(u,[["render",a]]);var c=l,d=n(4458);(0,d.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var p=n(4373),f=n(6942);const m={class:"welcome"};function h(e,t,n,o,s,a){const i=(0,r.g2)("hello");return(0,r.uX)(),(0,r.CE)("div",m,[(0,r.bF)(i)])}var v=n(4232);const b={class:"welcome"},g={key:0},y={key:1};function k(e,t,n,o,s,a){return(0,r.uX)(),(0,r.CE)("div",b,[e.realname?((0,r.uX)(),(0,r.CE)("p",g,"欢迎，"+(0,v.v_)(e.realname)+"！",1)):((0,r.uX)(),(0,r.CE)("p",y,"加载中……"))])}const w=(e,t)=>{switch(e){case 400:console.log("语义有误");break;case 401:console.log("服务器认证失败");break;case 403:console.log("服务器拒绝访问");break;case 404:console.log("地址错误");break;case 500:console.log("服务器遇到意外");break;case 502:console.log("服务器无响应");break;default:console.log(t);break}},L=p.A.create({timeout:5e3});L.interceptors.request.use((e=>("post"===e.methods&&(e.data=querystring.stringify(e.data)),e)),(e=>Promise.reject(e))),L.interceptors.response.use((e=>200===e.status?Promise.resolve(e):Promise.reject(e)),(e=>{const{request:t}=e;w(response.status,response)}));var O=L;const j={baseurl:"http://localhost:8080",dataOfSomeone:""};var x=j;O.defaults.headers.common["Content-Type"]="application/json";const q={getMatch(e,t,n){return O.post(x.baseurl+x.dataOfSomeone,{username:e,password:t,identity:n})},getRealName(e){return O.post(x.baseurl+x.dataOfSomeone,{username:e})}};var E=q,A={name:hello,data(){return{username:"",realName:null}},created(){this.username=this.$route.query.username,this.fetchUserName()},methods:{fetchUserName(){E.getRealName(this.username).then((e=>{this.realName=e.data.realName})).catch((e=>{console.error("获取用户信息失败:",e)}))}}};const C=(0,i.A)(A,[["render",k],["__scopeId","data-v-d112f0e8"]]);var S=C,N={name:student,components:{hello:S}};const _=(0,i.A)(N,[["render",h]]);var P=_;const X={class:"container"},M=(0,r.Lk)("h1",null,"选课系统登录",-1),U={id:"loginForm",class:"login-form"},F={class:"role-selection"},T=(0,r.Lk)("label",{for:"student"},"学生登录",-1),V=(0,r.Lk)("label",{for:"teacher"},"老师登录",-1),$=(0,r.Lk)("label",{for:"admin"},"管理员登录",-1),J={class:"login-input-text"},R=(0,r.Lk)("label",{class:"label",for:"username"},"用户名:",-1),B={class:"login-input-text"},D=(0,r.Lk)("label",{class:"label",for:"password"},"密码:",-1);function I(e,t,n,s,a,i){return(0,r.uX)(),(0,r.CE)("div",X,[M,(0,r.Lk)("form",U,[(0,r.Lk)("div",F,[(0,r.bo)((0,r.Lk)("input",{type:"radio",id:"student",value:"1","onUpdate:modelValue":t[0]||(t[0]=e=>a.identity=e),required:"",checked:""},null,512),[[o.XL,a.identity]]),T,(0,r.bo)((0,r.Lk)("input",{type:"radio",id:"teacher",value:"2","onUpdate:modelValue":t[1]||(t[1]=e=>a.identity=e),required:""},null,512),[[o.XL,a.identity]]),V,(0,r.bo)((0,r.Lk)("input",{type:"radio",id:"admin",value:"3","onUpdate:modelValue":t[2]||(t[2]=e=>a.identity=e),required:""},null,512),[[o.XL,a.identity]]),$]),(0,r.Lk)("div",J,[R,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username",name:"username","onUpdate:modelValue":t[3]||(t[3]=e=>a.username=e),required:""},null,512),[[o.Jo,a.username]])]),(0,r.Lk)("div",B,[D,(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":t[4]||(t[4]=e=>a.password=e),required:""},null,512),[[o.Jo,a.password]])]),(0,r.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>i.submit&&i.submit(...e))},"登录")]),(0,r.Lk)("p",null,(0,v.v_)(a.message),1)])}n(4114);var z={name:"login",data(){return{identity:"",username:"",password:"",message:""}},methods:{submit(){event.preventDefault(),this.errorMessage="",E.getMatch(this.username,this.password,this.identity).then((function(e){switch(e.data.match){case 1:this.message="学生登陆成功！",this.$router.push({path:"/content-student",query:{username:this.username}});break;case 2:this.message="老师登陆成功！",this.$router.push({path:"/content-teacher",query:{username:this.username}});break;case 3:this.message="管理员登陆成功",this.$router.push({path:"/content-admin",query:{username:this.username}});break;default:alert("用户名或密码错误，或者您所选的登陆身份有误！")}})).catch((function(e){console.log(e)}))}}};const G=(0,i.A)(z,[["render",I]]);var H=G,K=n(1387);const Q=[{path:"/",component:H},{path:"/content-student",component:P}],W=(0,K.aE)({history:(0,K.LA)(),routes:Q});var Y=W;const Z=(0,o.Ef)(c);Z.config.globalProperties.$axios=p.A,Z.use(Y),Z.use(f.A,p.A),Z.mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,o,r,s){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],s=e[c][2];for(var i=!0,u=0;u<o.length;u++)(!1&s||a>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(i=!1,s<a&&(a=s));if(i){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,r,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,a=o[0],i=o[1],u=o[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(u)var c=u(n)}for(t&&t(o);l<a.length;l++)s=a[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},o=self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(3760)}));o=n.O(o)})();
//# sourceMappingURL=app.0238f848.js.map