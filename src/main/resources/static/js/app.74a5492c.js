(function(){"use strict";var e={3708:function(e,t,n){var o=n(5130),r=n(6768);const s={id:"app"};function a(e,t){const n=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(n)])}var i=n(1241);const u={},c=(0,i.A)(u,[["render",a]]);var l=c,d=n(4458);(0,d.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var p=n(4373),m=n(6942);const f={class:"welcome"};function h(e,t,n,o,s,a){const i=(0,r.g2)("welcome");return(0,r.uX)(),(0,r.CE)("div",f,[(0,r.bF)(i)])}var v=n(4232);const b={class:"welcome"},g={key:0},y={key:1};function k(e,t,n,o,s,a){return(0,r.uX)(),(0,r.CE)("div",b,[s.realName?((0,r.uX)(),(0,r.CE)("p",g,"欢迎，"+(0,v.v_)(s.realName)+"！",1)):((0,r.uX)(),(0,r.CE)("p",y,"加载中……"))])}const w=(e,t)=>{switch(e){case 400:console.log("语义有误");break;case 401:console.log("服务器认证失败");break;case 403:console.log("服务器拒绝访问");break;case 404:console.log("地址错误");break;case 500:console.log("服务器遇到意外");break;case 502:console.log("服务器无响应");break;default:console.log(t);break}},L=p.A.create({timeout:5e3});L.interceptors.request.use((e=>("post"===e.methods&&(e.data=querystring.stringify(e.data)),e)),(e=>Promise.reject(e))),L.interceptors.response.use((e=>200===e.status?Promise.resolve(e):Promise.reject(e)),(e=>{const{request:t}=e;w(response.status,response)}));var O=L;const j={baseurl:"http://localhost:8080/",dataOfSomeone:"api/user/login"};var x=j;O.defaults.headers.common["Content-Type"]="application/json";const q={getMatch(e,t,n){return O.post(x.baseurl+x.dataOfSomeone,{username:e,password:t,identity:n})},getRealName(e){return O.post(x.baseurl+x.dataOfSomeone,{username:e})}};var E=q,A={name:"welcome",data(){return{username:"",realName:null}},created(){this.username=this.$route.query.username,this.fetchUserName()},methods:{fetchUserName(){E.getRealName(this.username).then((e=>{this.realName=e.data.realName})).catch((e=>{console.error("获取用户信息失败:",e)}))}}};const N=(0,i.A)(A,[["render",k],["__scopeId","data-v-5267d68e"]]);var S=N,_={name:"student",components:{welcome:S}};const C=(0,i.A)(_,[["render",h]]);var P=C;const X=e=>((0,r.Qi)("data-v-18ecd68c"),e=e(),(0,r.jt)(),e),U={class:"container"},M=X((()=>(0,r.Lk)("h1",null,"选课系统登录",-1))),F={class:"role-selection"},$=X((()=>(0,r.Lk)("label",{for:"student"},"学生登录",-1))),T=X((()=>(0,r.Lk)("label",{for:"teacher"},"老师登录",-1))),V=X((()=>(0,r.Lk)("label",{for:"admin"},"管理员登录",-1))),I={class:"login-input-text"},J=X((()=>(0,r.Lk)("label",{class:"label",for:"username"},"用户名:",-1))),R={class:"login-input-text"},B=X((()=>(0,r.Lk)("label",{class:"label",for:"password"},"密码:",-1))),D=X((()=>(0,r.Lk)("button",{type:"submit"},"登录",-1)));function Q(e,t,n,s,a,i){return(0,r.uX)(),(0,r.CE)("div",U,[M,(0,r.Lk)("form",{id:"loginForm",class:"login-form",onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>i.submit&&i.submit(...e)),["prevent"]))},[(0,r.Lk)("div",F,[(0,r.bo)((0,r.Lk)("input",{type:"radio",id:"student",value:"1","onUpdate:modelValue":t[0]||(t[0]=e=>a.identity=e),required:"",checked:""},null,512),[[o.XL,a.identity]]),$,(0,r.bo)((0,r.Lk)("input",{type:"radio",id:"teacher",value:"2","onUpdate:modelValue":t[1]||(t[1]=e=>a.identity=e),required:""},null,512),[[o.XL,a.identity]]),T,(0,r.bo)((0,r.Lk)("input",{type:"radio",id:"admin",value:"3","onUpdate:modelValue":t[2]||(t[2]=e=>a.identity=e),required:""},null,512),[[o.XL,a.identity]]),V]),(0,r.Lk)("div",I,[J,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username",name:"username","onUpdate:modelValue":t[3]||(t[3]=e=>a.username=e),required:""},null,512),[[o.Jo,a.username]])]),(0,r.Lk)("div",R,[B,(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":t[4]||(t[4]=e=>a.password=e),required:""},null,512),[[o.Jo,a.password]])]),D],32),(0,r.Lk)("p",null,(0,v.v_)(a.message),1)])}n(4114);var z={name:"login",data(){return{identity:"",username:"",password:"",message:""}},methods:{submit(){this.message="",E.getMatch(this.username,this.password,this.identity).then((e=>{switch(console.log(this.identity),e.data.data){case 1:this.message="学生登陆成功！",this.$router.push({path:"/content-student",query:{username:this.username}});break;case 2:this.message="老师登陆成功！",this.$router.push({path:"/content-teacher",query:{username:this.username}});break;case 3:this.message="管理员登陆成功",this.$router.push({path:"/content-admin",query:{username:this.username}});break;default:alert("用户名或密码错误，或者您所选的登陆身份有误！")}})).catch((e=>{console.log(e)}))}}};const G=(0,i.A)(z,[["render",Q],["__scopeId","data-v-18ecd68c"]]);var H=G,K=n(1387);const W=[{path:"/",component:H},{path:"/content-student",component:P}],Y=(0,K.aE)({history:(0,K.LA)(),routes:W});var Z=Y;const ee=(0,o.Ef)(l);ee.config.globalProperties.$axios=p.A,ee.use(Z),ee.use(m.A,p.A),ee.mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,o,r,s){if(!o){var a=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],s=e[l][2];for(var i=!0,u=0;u<o.length;u++)(!1&s||a>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(i=!1,s<a&&(a=s));if(i){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[o,r,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,a=o[0],i=o[1],u=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(u)var l=u(n)}for(t&&t(o);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},o=self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(3708)}));o=n.O(o)})();
//# sourceMappingURL=app.74a5492c.js.map